---
import Dock from "../components/Dock.astro";
import App from '../components/app.jsx';
---

<button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
<nav id="sidebar" class="open">
  <div class="logo">
    <button style="all: unset; cursor: pointer" onclick="window.location.href = '/'">
      <img
        src="https://images.takeshape.io/ab111b19-bba2-4cbc-88b1-02bc9b72a93a/dev/0f64b6fb-3f28-4beb-82cd-e6a71fccdf5d/32x32%20(2).svg"
        alt="Logo" width="44" height="44" />
    </button>
  </div>
  <ul>
    <!-- Users Category -->
    <li class="category" data-category="users">
      <a href="#">Users</a>
      <ul class="submenu depricated_icon">
        <div class="deprecated-wrapper">
          <p class="deprecated-text">
            deprecated - use 
            <a class="deprecated-link" target="_blank" href="https://portal.themill.io/en/boxes/user">Boxes</a>
            <img class="deprecated-img" src="/assets/depr.svg" alt="Deprecated Icon">
          </p>
        </div>
        <li><a class="depricated_icon_check" style="white-space: pre-wrap;" href="/loot-boxes">Loot Boxes <div style="border-top: solid 1px #ffffff80; margin: 2px 0px; margin-right: 60px;"></div>Fortune Wheels</a></li>
        <li><a href="/usersdata">Contact Info</a></li>
        <li><a class="new" href="/wifisher">Wifisher</a></li>
        <li><a class="new" href="/sumsub">SumSub</a></li>
<!--         <li><a href="/recent-win">Latest Wins</a></li> -->
      </ul>
    </li>

    <!-- Jackpots Category -->
    <li class="category" data-category="jackpots">
      <a href="#">Jackpots</a>
      <ul class="submenu">
        <li><a href="/egt-jackpot">EGT Digital</a></li>
        <li><a href="/amusnet-jackpot">Amusnet</a></li>
      </ul>
    </li>

    <!-- Betpool Category -->
    <li class="category" data-category="betpool">
      <a href="#">Betpool</a>
      <ul class="submenu">
        <li><a href="/syndicate-sessions">Session Stats</a></li>
        <li><a href="/syndicat-session-update">Validity Update</a></li>
      </ul>
    </li>

    <!-- Distributors Category -->
    <li class="category" data-category="distributors">
      <a href="#">Distributors</a>
      <ul class="submenu">
        <li><a href="/bonus-distributor">Bonuses</a></li>
        <li><a href="/cashbackbonusdistributor">Cashback</a></li>
      </ul>
    </li>

    <!-- Stats Category -->
    <li class="category" data-category="stats">
      <a href="#">Stats</a>
      <ul class="submenu">
        <li><a class="new" href="/tournamentdata">Tournament</a></li>
        <li><a href="/pending-withdrawal">Pending WD</a></li>
      </ul>
    </li>

    <!-- API stays separate -->
    <li>
      <a style="color: rgb(122, 202, 122);" href="/amb-api-doc">API</a>
    </li>
  </ul>
</nav>
<Dock/>
<App client:load />
<dialog id="beta-dialog" open style="
  border: none;
  border-radius: 12px;
  padding: 24px;
  max-width: 450px;
  width: 95%;
  background: linear-gradient(135deg, #ffffff, #f0f7ff);
  box-shadow: 0 8px 30px rgba(0,0,0,0.5);
  font-family: 'Inter', sans-serif;
  position: fixed;
  bottom: 50px;
  left: 50px;
  z-index: 1000;
  animation: slideIn 0.5s ease-out;
">
  <style>
    @keyframes slideIn {
      from { transform: translateY(100px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    #beta-dialog a:hover {
      transform: translateY(-2px);
      transition: transform 0.2s;
    }
  </style>
  <a target="_blank" href="https://stl-test-next.netlify.app">  <img width="80px" style="position:absolute; margin-left: 350px; top: -50px" src="https://images.takeshape.io/5da2b4d5-59f6-412a-82c3-f6a272b532be/dev/0313d075-5403-43fe-a97c-7ff9a01672b6/up-1.gif?auto=format%2Ccompress"> 
  </a>
  <h3 style="margin: 0 0 12px; font-size: 24px; color: #1e3a8a; display: flex; align-items: center; gap: 8px;">
    <span style="font-size: 28px;">üöÄ</span> Discover the Backoffice Beta!
  </h3>
  <p style="margin: 0 0 8px; line-height: 1.5; color: #374151;">
    Experience the new backoffice now live with enhanced features!
  </p>
  <p style="margin: 8px 0; color: #dc2626; font-weight: 600; font-size: 14px;">
    ‚ö†Ô∏è This version will be retired soon!
  </p>
  <div style="display: flex; justify-content: flex-end; gap: 12px; margin-top: 24px;">
    <a target="_blank" href="https://stl-test-next.netlify.app" style="
      background: linear-gradient(to right, #3b82f6, #10b981);
      color: white;
      text-decoration: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 500;
      animation: pulse 2s infinite;
    ">Try Now</a>
  </div>
</dialog>